# 插件功能验证清单

## 快速验证步骤

### 1. 安装插件 ✅

```bash
1. 打开 Chrome: chrome://extensions/
2. 开启"开发者模式"
3. 点击"加载已解压的扩展程序"
4. 选择 chrome-extension 文件夹
5. 确认插件图标出现在工具栏
```

### 2. 打开插件 ✅

```bash
1. 点击插件图标
2. 确认弹出窗口显示
3. 确认有两个标签页: "Current Session" 和 "Files"
4. 确认 "Current Session" 默认激活
```

### 3. 测试文件生成 ✅

#### 方法 A: 使用测试页面
```bash
1. 在浏览器中打开: chrome-extension/test-file-operations.html
2. 点击"生成测试 CSV"
3. 确认提示"CSV 文件生成成功"
4. 点击"生成测试 HTML"
5. 确认提示"HTML 文件生成成功"
```

#### 方法 B: 使用插件任务
```bash
1. 在插件中输入任务（如果有 Agent 功能）
2. 等待任务完成
3. 检查是否生成文件
```

### 4. 测试文件列表 ✅

```bash
1. 切换到 "Files" 标签页
2. 确认显示文件列表
3. 确认每个文件显示:
   - 文件图标 (📊 或 📄)
   - 文件名
   - 创建时间
   - 文件大小
   - 操作按钮（预览、复制、下载、删除）
```

### 5. 测试预览功能 ✅

#### CSV 预览
```bash
1. 点击 CSV 文件的"预览"按钮
2. 确认显示表格
3. 确认表头可见
4. 确认数据行可见
5. 确认有"返回"、"重命名"、"添加行"、"下载"按钮
6. 确认底部显示行列统计
```

#### HTML 预览
```bash
1. 点击 HTML 文件的"预览"按钮
2. 确认显示 HTML 内容
3. 确认有"预览"和"源代码"标签
4. 点击"源代码"标签
5. 确认显示 HTML 源码
6. 点击"预览"标签返回
```

### 6. 测试编辑功能 ✅

```bash
1. 在 CSV 预览页面
2. 点击任意单元格
3. 修改内容
4. 点击其他地方或按 Tab
5. 确认内容已更新
6. 点击"保存更改"
7. 确认提示"保存成功"
```

### 7. 测试添加行 ✅

```bash
1. 在 CSV 预览页面
2. 点击"添加行"按钮
3. 确认表格末尾添加了新行
4. 确认新行所有单元格为空
5. 编辑新行内容
6. 点击"保存更改"
```

### 8. 测试删除行 ✅

```bash
1. 在 CSV 预览页面
2. 点击任意行末的删除按钮
3. 确认弹出确认对话框
4. 点击"确定"
5. 确认该行已删除
6. 点击"保存更改"
```

### 9. 测试重命名 ✅

```bash
1. 在预览页面
2. 点击文件名旁的重命名按钮
3. 输入新文件名
4. 点击"确定"
5. 确认文件名已更新
```

### 10. 测试复制功能 ✅

```bash
1. 在文件列表
2. 点击文件的"复制"按钮
3. 确认提示"文件已复制"
4. 确认列表中出现新文件
5. 确认新文件名包含"(副本)"
```

### 11. 测试下载功能 ✅

```bash
1. 点击文件的"下载"按钮
2. 确认浏览器开始下载
3. 确认下载的文件可以打开
4. 确认文件内容正确
```

### 12. 测试删除功能 ✅

```bash
1. 点击文件的"删除"按钮
2. 确认弹出详细确认对话框
3. 确认对话框显示:
   - 文件名
   - 文件类型
   - 文件大小
   - 创建时间
   - 警告信息
4. 点击"确定"
5. 确认文件已从列表中移除
6. 确认提示"文件已删除"
```

### 13. 测试搜索功能 ✅

```bash
1. 在文件列表的搜索框输入关键词
2. 确认文件列表实时过滤
3. 确认只显示匹配的文件
4. 清空搜索框
5. 确认显示所有文件
```

### 14. 测试过滤功能 ✅

```bash
1. 点击"CSV"过滤按钮
2. 确认只显示 CSV 文件
3. 点击"HTML"过滤按钮
4. 确认只显示 HTML 文件
5. 点击"全部"按钮
6. 确认显示所有文件
```

### 15. 测试标签页切换 ✅

```bash
1. 在 "Files" 标签页
2. 切换到 "Current Session"
3. 确认显示日志（如果有）
4. 确认不显示文件列表
5. 切换回 "Files"
6. 确认显示文件列表
7. 确认不显示日志
```

### 16. 测试日志功能 ✅

```bash
1. 在 "Current Session" 标签页
2. 执行任何操作（如生成文件）
3. 确认日志出现在 Current Session
4. 切换到 "Files" 标签页
5. 确认不显示日志
6. 切换回 "Current Session"
7. 确认日志仍然存在
```

## 常见问题排查

### 问题 1: 按钮点击无反应

**检查步骤**:
```bash
1. 打开浏览器控制台 (F12)
2. 查看是否有错误信息
3. 检查是否有 "[DEBUG]" 日志
4. 确认 popup.js 已加载
5. 刷新插件重试
```

**解决方案**:
- 重新加载插件
- 清除浏览器缓存
- 检查文件权限

### 问题 2: 文件列表为空

**检查步骤**:
```bash
1. 打开浏览器控制台
2. 输入: localStorage.getItem('fileManager_files')
3. 检查是否有数据
4. 尝试生成新文件
```

**解决方案**:
- 使用测试页面生成文件
- 检查 localStorage 权限
- 清空并重新生成

### 问题 3: 预览页面空白

**检查步骤**:
```bash
1. 打开浏览器控制台
2. 查看错误信息
3. 检查文件数据是否完整
4. 尝试重新生成文件
```

**解决方案**:
- 检查文件数据格式
- 重新生成文件
- 刷新插件

### 问题 4: 保存失败

**检查步骤**:
```bash
1. 检查 localStorage 是否已满
2. 查看控制台错误
3. 检查文件大小
```

**解决方案**:
- 删除不需要的文件
- 清理 localStorage
- 减小文件大小

## 性能测试

### 测试大文件

```bash
1. 生成 100 行的 CSV 文件
2. 测试预览速度
3. 测试编辑响应
4. 测试保存速度
```

**预期结果**:
- 预览加载 < 1 秒
- 编辑响应 < 100ms
- 保存完成 < 500ms

### 测试多文件

```bash
1. 生成 20 个文件
2. 测试列表渲染速度
3. 测试搜索响应
4. 测试过滤速度
```

**预期结果**:
- 列表渲染 < 500ms
- 搜索响应 < 100ms
- 过滤切换 < 100ms

## 浏览器兼容性测试

### Chrome
```bash
✅ 版本 90+
✅ 所有功能正常
```

### Edge
```bash
✅ 版本 90+
✅ 所有功能正常
```

### Firefox
```bash
⚠️ 需要测试
- 检查 localStorage API
- 检查 Blob API
- 检查事件委托
```

### Safari
```bash
⚠️ 需要测试
- 检查扩展 API
- 检查样式兼容性
```

## 自动化测试

### 单元测试
```bash
# 运行所有测试
npm test

# 运行特定测试
npm test file-manager
npm test document-generator
```

### 集成测试
```bash
# 运行集成测试
npm run test:integration
```

## 验证完成标准

所有以下项目都应该通过：

- ✅ 插件成功安装
- ✅ 界面正常显示
- ✅ 文件生成成功
- ✅ 文件列表显示
- ✅ 预览功能正常
- ✅ 编辑功能正常
- ✅ 所有按钮可点击
- ✅ 搜索过滤正常
- ✅ 标签页切换正常
- ✅ 日志显示正常
- ✅ 无控制台错误
- ✅ 性能符合预期

## 报告问题

如果发现问题，请提供：

1. **问题描述**: 详细描述问题
2. **重现步骤**: 如何重现问题
3. **预期结果**: 应该发生什么
4. **实际结果**: 实际发生了什么
5. **截图**: 如果可能，提供截图
6. **控制台日志**: 浏览器控制台的错误信息
7. **环境信息**: 
   - 浏览器版本
   - 操作系统
   - 插件版本

## 验证签名

验证人: _________________
日期: _________________
版本: v1.0.0
状态: ✅ 通过 / ⚠️ 部分通过 / ❌ 未通过

---

**注意**: 此清单应在每次更新后重新验证。
